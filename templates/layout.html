<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}{% endblock %} • Legal Demystifier</title>
  <meta name="description" content="AI-powered legal document simplification" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=League+Spartan:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/style.css" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🏛️</text></svg>">
</head>
<body>
  <header class="site-header glass">
    <div class="brand">
      <span class="logo" aria-hidden="true">🏛️</span>
      <span class="brand-name">Legal Demystifier</span>
    </div>
    <nav class="main-nav" aria-label="Main navigation">
      <a class="nav-link" href="https://github.com/RedtRocks" target="_blank" rel="noopener" aria-label="GitHub">GitHub</a>
    </nav>
  </header>
  <div class="layout-wrapper">
    <aside class="chat-history-sidebar" id="chatSidebar">
      <div class="chat-history-header">
        <h3>Previous Chats</h3>
        <div style="display:flex;gap:.35rem;align-items:center;">
          <button id="clearHistory" class="icon-btn" title="Clear History">🗑️</button>
          <button id="collapseSidebar" class="icon-btn" title="Collapse">«</button>
        </div>
      </div>
      <ul id="chatHistoryList" class="chat-history-list">
        <li class="empty-state">No previous chats yet.</li>
      </ul>
    </aside>
    <main class="main-content">
      <div class="container">
        {% block content %}{% endblock %}
      </div>
    </main>
  </div>
  <footer class="site-footer glass">
    <p>Prototype – not legal advice. © {{ 2025 }}</p>
  </footer>
  {% block scripts %}{% endblock %}
  <script>
    // Sidebar collapse logic
    (function(){
      const sidebar = document.getElementById('chatSidebar');
      const toggleBtn = document.getElementById('collapseSidebar');
      if(!sidebar || !toggleBtn) return;
      toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
      });
    })();
  </script>
</body>
</html>
